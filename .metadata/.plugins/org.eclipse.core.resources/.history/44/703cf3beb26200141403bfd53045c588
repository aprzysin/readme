import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

/**
 * 
 * @author Andrew Przysinda
 *
 */
public class Server {
	// declare datas array from Data.java for the values in blackops.txt
	private Data[] datas;
	// declare file for the file path src/blackops
	private File file;

	/**
	 * 
	 * @param filePath
	 *            - the path to the file that is being read (src/blackops in
	 *            this case)
	 * @throws FileNotFoundException - makes the program not crash if a file is not found
	 */
	public void load(String filePath) throws FileNotFoundException {
		// creates an array File
		this.file = new File(filePath);
		// creates an array Data
		this.datas = new Data[this.numLines()];
		// scanner for reading the file info
		Scanner fileReader = new Scanner(this.file);
		// variable to represent the amount of lines
		int i = 0;
		// reads all the lines and counts the amount of lines
		while (fileReader.hasNext()) {
		// reads one line
			this.datas[i] = new Data(fileReader.nextDouble(),
					fileReader.nextDouble());
		// counts the lines
			i++;
		}
	}

	/**
	 * 
	 * @return - returns the amount of lines
	 * @throws FileNotFoundException
	 */
	private int numLines() throws FileNotFoundException {
		Scanner lineReader = new Scanner(this.file);
		int lines = 0;
		while (lineReader.hasNextLine()) {
			lineReader.nextLine();
			lines++;
		}
	}

	double totalScore = 0.0;
	double totalRank = 0.0;

	/**
	 * 
	 * @throws FileNotFoundException
	 */
	public void analyze() throws FileNotFoundException {

		for (Data d : datas) {
			totalScore += d.playerScore();
			totalRank += d.playerRank();

		}
		System.out
				.println("Total Amount Of The Player's Scores: " + totalScore);
		System.out
				.println("Average Player Score: " + totalScore / datas.length);
		System.out.println("Average Player Rank: " + totalRank / datas.length);
	}

}
